{% extends "index.html" %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    {% block title%} Profile {% endblock %}
</head>
<body>
    {% block content%}
    <div class="container_profile_view">
        <div class="profile_view">
            <h1 style="display: inline-block;">{{name}}</h1>
            <h2 style="margin-top: 15px; margin-bottom: 15px;">Description</h2>
            <div style="padding: 10px; width: 270px; height: 150px; border: 1px solid black; margin: auto; overflow-wrap: break-word;">{{desc}}</div>
            <form action="" method="POST" class="form_profile_view">
                <input type="submit" value={{friend_or}}>
            </form>
        </div>
        <div class="friend_list" style="margin-bottom: 280px;">
            <div class="friends">
                <p style="font-weight: bold; margin-top: 10px; margin-bottom: 10px;">Friends:</p>
                {% for i in friend %}
                    <a href="/profile/{{i}}" style="margin-top: 5px; margin-bottom: 5px;">{{i}}</a><br>
                {% endfor %}
            </div>
        </div>
        {% for i in posts %}
            <div class="hunposts" style="visibility: hidden; display: none;">
                <div style="margin-bottom: 10px;"><p class="name-guy" style="visibility: hidden; display: none;">{{name}}</p></div>   
                <div><p class="posts" style="visibility: hidden; display: none;">{{i}}</p></div>
            </div>
        {% endfor %}
        <hr class="line">
    </div>
    <script>
        let post = document.getElementsByClassName("hunposts");
        let names = document.getElementsByClassName("name-guy");
        let posts = document.getElementsByClassName("posts");
        let line = document.getElementsByClassName("line");
        let num
        let num2
        let num3
        let num4
        console.log(post.length) 
        window.addEventListener("scroll", function(){
            console.log(window.innerHeight)
            console.log(line[0].getBoundingClientRect().top);
           for(let i=0; i<post.length; i++){
               num = post[i]
               num2 = line[0]
               num3 = names[i]
               num4 = posts[i]
               if(num2.getBoundingClientRect().top < window.innerHeight){
                   num.style.visibility = "visible"
                   num.style.display = "block"
                   num3.style.visibility = "visible"
                   num3.style.display = "block"
                   num4.style.visibility = "visible"
                   num4.style.display = "block"   
               } 
           }
        })
    </script>
    {% endblock %}
    
</body>
</html>